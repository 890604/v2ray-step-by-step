# HTTP/2  

In short HTTP/2 is a major revision of HTTP/1.1 (at this moment most websites are still using HTTP/1.1), click [here](https://http2.akamai.com/demo) to see the improve performance compare to HTTP/1.1 (however this does NOT represent the same TCP improvement of HTTP/2 in V2Ray).

First of all, I am not sure about the reason why V2Ray introducing HTTP/2, and there have been no detail explaination of this topic in the official manual. Also I have not fully tested it with HTTP/2, so I don't know much about the advanced usage. If anyone has new knowledge about this, welcome to inform us.

## Configuration

Just like other protocols of the transport layer, edit the configuration in the `streamSettings` part. However you have to enable TLS when using HTTP/2.

### Server setup
```json
{
  "inbounds": [
    {
      "port": 443,
      "protocol": "vmess",
      "settings": {
        "clients": [
          {
            "id": "b831381d-6324-4d53-ad4f-8cda48b30811",
            "alterId": 64
          }
        ]
      },
      "streamSettings": {
        "network": "h2", // `h2` also can be written as `http`ï¼Œsame effect
        "httpSettings": { // this option refer to the settings of HTTP/2 
          "path": "/ray"
        },
        "security": "tls", // config tls
        "tlsSettings": {
          "certificates": [
            {
              "certificateFile": "/etc/v2ray/v2ray.crt", // certificates, details please refer to the chapter of tls
              "keyFile": "/etc/v2ray/v2ray.key" // your private key
            }
          ]
        }
      }
    }
  ],
  "outbounds": [
    {
      "protocol": "freedom",
      "settings": {}
    }
  ]
}
```


### Client setup

```json
{
  "inbounds": [
    {
      "port": 1080,
      "listen": "127.0.0.1",
      "protocol": "socks",
      "sniffing": {
        "enabled": true,
        "destOverride": ["http", "tls"]
      },
      "settings": {
        "auth": "noauth",
        "udp": false
      }
    }
  ],
  "outbounds": [
    {
      "protocol": "vmess",
      "settings": {
        "vnext": [
          {
            "address": "mydomain.me",
            "port": 443,
            "users": [
              {
                "id": "b831381d-6324-4d53-ad4f-8cda48b30811",
                "alterId": 64
              }
            ]
          }
        ]
      },
      "streamSettings": {
        "network": "h2",
        "httpSettings": { //this option refer to the settings of HTTP/2 
          "path": "/ray"
        },
        "security": "tls"
      }
    }
  ]
}
```

#### History

- 2018-03-18 first edition
- 2018-08-30 Update
- 2018-11-17 V4.0+ configuration
